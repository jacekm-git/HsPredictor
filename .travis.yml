language: haskell
ghc: 7.8
cache:
  directories:
    - $TRAVIS_BUILD_DIR/.cabal-sandbox
    - $TRAVIS_BUILD_DIR/.other_dependancies_sandbox
install:
- cd .other_dependancies_sandbox
- cabal sandbox init
- cabal install cabal-install-1.22.6.0 hpc-coveralls
- cd ..
- export PATH=${TRAVIS_BUILD_DIR}/.other_dependancies_sandbox/.cabal-sandbox/bin:$PATH
- git clone https://jacekm-git@bitbucket.org/jacekm-git/fann_library.git
- cd fann_library/lib/pkgconfig/
- sh init.sh
- cd $TRAVIS_BUILD_DIR
- cabal install happy
- cabal sandbox init
- export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:${TRAVIS_BUILD_DIR}/fann_library/lib/pkgconfig/
- export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:${TRAVIS_BUILD_DIR}/fann_library/lib/
- echo $PKG_CONFIG_PATH
- echo $LD_LIBRARY_PATH
- cabal --version
- which cabal
before_script:
- cabal configure --enable-library-coverage -f travis
- cabal install --enable-tests
script:
- cabal test --show-details=always --test-options="--color"
after_script:
- hpc-coveralls --exclude-dir=tests HUnit
